@import 'partials/variables';

body {
	background-color: $hog-red-dark;
}

div.bg-outer {
	z-index: 1;
	position: absolute;
	display: grid;
	place-items: center;
	width: 100vw;
	height: 100vh;
	overflow: hidden;
}

div.bg-square {
	position: fixed;
	aspect-ratio: 1;

	width: 90vw;
	height: 90vw;

	transform-origin: center;
	//transform: rotate(45deg);

	background-color: $hog-red;

	animation-name: bgsqrIn;
	animation-duration: 1s;
	animation-fill-mode: both;
    animation-timing-function: ease-in-out;
	animation-delay: 0s !important;

	border: 0.1em solid $hog-gold-light;
	box-shadow:
		0.4em 0.4em 1.2em 1em #00000060
	;
}

div.question {
	z-index: 100;
	display: grid;
	width: 75%;
	height: calc(100vh - 2em);
	text-wrap: balance;
	//overflow: hidden;

	font-size: 1.5rem;
	font-family: "Keep Calm", Helvetica, Arial, sans-serif;

	h1, h2, h3 {
		font-weight: 500;
	}

	> div {
		display: grid;
		place-items: center;

		animation-name: flipDown;
		border: 0.2em ridge $hog-gold;

		transition: transform 1s ease-in-out;
		transform: rotateY(90deg);

		box-shadow:
			0 0.5em 1.2em 0.07em #00000060, // shadow A
			inset 0 0.5em 1.2em 0.07em #00000060, // shadow B
			0 0 0.3em 0.07em $hog-gold, // glow A
			inset 0 0 0.3em 0.07em $hog-gold // glow B
		;

		> div {
			transform: rotateX(90deg);
			transition-delay: 1s;
		}

		h1 {
			filter: drop-shadow(0 0.2em 0.2em black);
			text-wrap: balance;
			margin-block-start: 0;
			margin-block-end: 0;
		}
	}
}


div.question.averages {
	grid-template-rows: 1fr 4fr 2em 2fr 1fr;
	grid-template-columns: 1fr 2em 1fr 2em 1fr;

	.question-bulk:hover .qa-text-outer {
		transform: rotateX(180deg);
	}
	div.question-bulk {
		grid-area: 2 / 1 / 3 / 6;
		//font-size: 2em;
		text-align: center;

		.qa-text-outer {
			display: grid;
			grid-template-rows: 1fr;
			grid-template-columns: 1fr;

			position: relative;
			width: 100%;
			height: 100%;
			text-align: center;
			transition: transform 1s;
			transform-style: preserve-3d;
		}

		.Q, .A {
			//position: absolute;
			//width: 100%;
			//height: 100%;
			grid-area: 1 / 1 / 2 / 2;
			margin: auto;
			-webkit-backface-visibility: hidden; /* Safari */
			backface-visibility: hidden;
		}


		.A {
			transform: rotateX(180deg);
		}
	}

	div.avg {
		text-align: center;
		display: grid;
		grid-template-rows: 1fr 1fr;
		grid-template-columns: 1fr;

		div.names {
			grid-area: 1 / 1 / 2 / 2;
			padding: 1em 1em 0;
		}
		div.guess {
			grid-area: 2 / 1 / 3 / 2;
			padding: 0 1em 1em;
		}

		&:not(.winner) {
			border: 0.2em ridge $hog-blue-light;
			box-shadow:
				0 0.5em 1.2em 0.07em #00000060, // shadow A
				inset 0 0.5em 1.2em 0.07em #00000060, // shadow B
				0 0 0.3em 0.07em $hog-blue-light, // glow A
				inset 0 0 0.3em 0.07em $hog-blue-light // glow B
			;
		}
		&.winner {
			scale: 1 !important;
			opacity: 1 !important;
		}
	}

	&:has(> .winner) {
		div.avg {
			scale: 0.85;
			opacity: 0.7;
		}
	}

	div.avg.l {
		grid-area: 4 / 1 / 5 / 2;
	}
	div.avg.m {
		grid-area: 4 / 3 / 5 / 4;
	}
	div.avg.r {
		grid-area: 4 / 5 / 5 / 6;
	}
}

div.question-outer {
	display: grid;

	grid-template-columns: 1fr;
	grid-template-rows: 1fr;
	place-items: center;

	height: 100vh;
	width: 100vw;
}

.show {
	transform: rotateY(0) !important;

	> div {
		transform: rotateX(0) !important;
	}
}

@keyframes questionBoxIn {
	0% {
		transform: rotateY(90deg);
		> div {
			transform: rotateX(90deg);
		}
	}

	100% {
		transform: rotateY(0);
		> div {
			transform: rotateX(0);
		}
	}
}
